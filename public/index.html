	<!DOCTYPE html>
<html ng-app="jeevesApp">
<head>	
	<title>Jeeves</title>

	<!-- Do not touch. This implements TrackJS. -->
	<script type="text/javascript" src="//d2zah9y47r7bi2.cloudfront.net/releases/current/tracker.js" data-token="0719e9c2128449e2908564cdd71bc409"></script>

	<!--Meta data for mobile devices. -->
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

	<!-- Implement Bootstrap and AngularJS. -->
	<link href="css/bootstrap.min.css" rel="stylesheet" />
	<link href="css/bootstrap-theme.min.css" rel="stylesheet" />
	<link rel="stylesheet" href="//rawgithub.com/mgcrea/bootstrap-additions/master/dist/bootstrap-additions.min.css">
	<script src="js/angular.min.js"></script>
	<script src="js/ui-bootstrap-tpls-0.11.0.min.js"></script>
	<!-- Add AngularJS modules -->
	<script src="js/angular-animate.min.js"></script>
	<script src="js/angular-touch.min.js"></script>

	<script src="https://apis.google.com/js/client.js"></script>
	<script src="js/mvc.js"></script>
	
	<!-- Implement JQuery for Bootstrap animations. -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
	<script src="js/bootstrap.min.js"></script>

	<!-- SPEECH FUNCTIONALITY -->
	<script type="text/javascript" src="cordova.js"></script>

	<!-- base64 decoding algorithm -->
	<script src="js/base64.js"></script>

</head>

<body id="body-controller-element" ng-controller="jeevesCtrl">
	<div class="container">
		<div class="page-header">
			<h1>Jeeves Personal Assistant <small><span id="version">v0.1.3</span></small></h1>
		</div>
		<div id="top-buttons" class="view" >
			<button ng-click="changeView('menu')" class="btn btn-primary" style="float: right; width: 150px;">
				<span class="glyphicon glyphicon-home"></span>
				</button>
			<button ng-click="changeView('favorites')" class="btn btn-primary" style="float: left; width: 150px;">
				<span class="glyphicon glyphicon-star"></span>
			</button>
			<br>
			<br>
		</div>

		<div id="menu" ng-controller="jeevesCtrl" class = "view" ng-hide="jeeves.view != 'menu'" ng-cloak>
			<script type="text/ng-template" id="menuContent.html">
			<div ng-controller="jeevesCtrl">
				<h2 class="text-center">Menu</h2>
				<button ng-click="changeView('weather')" class="btn btn-primary btn-block">Weather</button>
				<button ng-click="changeView('news')" class="btn btn-primary btn-block">News </button>
				<button ng-click="changeView('email')" class="btn btn-primary btn-block">Email</button>
				<hr>
				<button ng-click="changeView('settings')" class="btn btn-default btn-block">Settings</button>
				<button ng-click="changeView('contact')" class="btn btn-default btn-block">Contact</button>
				<button ng-click="changeView('about')" class="btn btn-default btn-block">About</button>
			</div>
			</script>
		</div>

		<div id="rssNews" class="view" ng-hide="jeeves.view != 'news'" ng-cloak>
			<div>
				<h2 class="text-center">News</h2>
			</div>
			<div align = "center">
				<accordion close-others="true">
					<accordion-group heading="News">
						<button id="news1" class="btn btn-warning btn-block" on-click="news1isCollapsed = !news1isCollapsed"><span id="news1title">Article title goes here</span></button>
						<div collapse="!news1isCollapsed">
							<div class="well well-lg" id="news1content" >Article content goes here.</div>
						</div>
						<button id="news2" class="btn btn-warning btn-block" ng-click="news2isCollapsed = !news2isCollapsed"><span id="news2title">Article title goes here</span></button>
						<div collapse="!news2isCollapsed">
							<div class="well well-lg" id="news2content" >Article content goes here.</div>
						</div>
						<button id="news3" class="btn btn-warning btn-block" ng-click="news3isCollapsed = !news3isCollapsed"><span id="news3title">Article title goes here</span></button>
						<div collapse="!news3isCollapsed">
							<div class="well well-lg" id="news3content" >Article content goes here.</div>
						</div>
						<button id="news4" class="btn btn-warning btn-block" ng-click="news4isCollapsed = !news4isCollapsed"><span id="news4title">Article title goes here</span></button>
						<div collapse="!news4isCollapsed">
							<div class="well well-lg" id="news4content" >Article content goes here.</div>
						</div>
						<button id="news5" class="btn btn-warning btn-block" ng-click="news5isCollapsed = !news5isCollapsed"><span id="news5title">Article title goes here</span></button>
						<div collapse="!news5isCollapsed">
							<div class="well well-lg" id="news5content" >Article content goes here.</div>
						</div>
					</accordion-group>
					<accordion-group heading="World">
						<button id="world1" class="btn btn-warning btn-block" ng-click="world1isCollapsed = !world1isCollapsed"><span id="world1title">Article title goes here</span></button>
						<div collapse="!world1isCollapsed">
							<div class="well well-lg" id="world1content" >Article content goes here.</div>
						</div>
						<button id="world2" class="btn btn-warning btn-block" ng-click="world2isCollapsed = !world2isCollapsed"><span id="world2title">Article title goes here</span></button>
						<div collapse="!world2isCollapsed">
							<div class="well well-lg" id="world2content" >Article content goes here.</div>
						</div>
						<button id="world3" class="btn btn-warning btn-block" ng-click="world3isCollapsed = !world3isCollapsed"><span id="world3title">Article title goes here</span></button>
						<div collapse="!world3isCollapsed">
							<div class="well well-lg" id="world3content" >Article content goes here.</div>
						</div>
						<button id="world4" class="btn btn-warning btn-block" ng-click="world4isCollapsed = !world4isCollapsed"><span id="world4title">Article title goes here</span></button>
						<div collapse="!world4isCollapsed">
							<div class="well well-lg" id="world4content" >Article content goes here.</div>
						</div>
						<button id="world5" class="btn btn-warning btn-block" ng-click="world5isCollapsed = !world5isCollapsed"><span id="world5title">Article title goes here</span></button>
						<div collapse="!world5isCollapsed">
							<div class="well well-lg" id="world5content" >Article content goes here.</div>
						</div>
					</accordion-group>
				</accordion>
  				<button type="button" class="btn btn-warning btn-block" sglclick="changeSection('news')" ng-dblclick="collapse()">News</button>
  				<div id="news" ng-hide="jeeves.newsViews!= 'news'"></div>
  				<button type="button" class="btn btn-warning btn-block" sglclick="changeSection('world')" ng-dblclick="collapse()">World</button>
  				<div id="world" ng-hide="jeeves.newsViews!='world'"></div>
  				<button type="button" class="btn btn-warning btn-block" sglclick="changeSection('sport')" ng-dblclick="collapse()">Sports</button>
  				<div id="sport" ng-hide="jeeves.newsViews!='sport'"></div>
  				<button type="button" class="btn btn-warning btn-block" sglclick="changeSection('business')" ng-dblclick="collapse()">Business</button>
  				<div id="business" ng-hide="jeeves.newsViews!='business'"></div>
  				<button type="button" class="btn btn-warning btn-block" sglclick="changeSection('technology')" ng-dblclick="collapse()">Technology</button>
  				<div id="technology" ng-hide="jeeves.newsViews!='technology'"></div>
  				<button type="button" class="btn btn-warning btn-block" sglclick="changeSection('science')" ng-dblclick="collapse()">Science</button>
  				<div id="science" ng-hide="jeeves.newsViews!='science'"></div>
			</div>
			<br>
			<div align = "center">
				<span>
					<div id="feed1"><br></div>
				</span>
			</div>
		</div>

		<div id="email" class="view" ng-hide="jeeves.view != 'email'" ng-cloak>
			<div>
				<h2>Email</h2>
				<div style="padding-bottom: 10px">
					<div id="email-announcement"><i>Hello! I am ready to read your email.</i></div>
					<div>
						<button id='authorize-button' ng-click="oauthlogin()" class="btn btn-default">Authenticate</button>
					</div>
				</div>
				<div style="padding-bottom: 30px" id="message-content-here">
					<div id="message-list"></div>
				</div>
			</div>
		</div>

		<div id="weather" class="view" ng-hide="jeeves.view != 'weather'" ng-cloak ng-swipe-left="handleSwipe('right-to-left')">
			<div>
				<h2 class="text-center">Weather of {{jeeves.city}}</h2>
			    <div align="center">
				    <span>
		    			<div><img ng-src="{{ imgurl() }}"></div>
		    		</span>
		    		<span>
		    			<h3>Current: {{ jeeves.weather.temp.current}}&deg <span class="degree-letter">F</span></h3>
		    		</span>
    			</div>
    			<br>
	       		<div align="center">
		       		<div class="input-group" style="width: 210px">
		        		<input type="text" class="form-control" placeholder="City, State" id="weather_city" onkeydown="if (event.keyCode == 13) document.getElementById('changeCity').click()">
		        		<span class="input-group-btn">
			        		<button class="btn btn-default" type="submit" ng-click="changeWeather(false)" id="changeCity">Change</button>
		        		</span>
		        	</div>
		    		<font size="1">Powered by OpenWeatherMap.org</font>
	        	</div>
	      	</div>
	    </div>

 		<div id="about" class="view" ng-hide="jeeves.view != 'about'" ng-cloak>
 			<h2 class="text-center">About</h2>
			<p><font size = "3">Who has time to sit and read the morning paper anymore? Should you make coffee, or turn on the news? Brush your teeth, or catch up on your Facebook feed? Never worry about making these choices again. We present a new, hands-free voice-based application that will read the news, stock market updates, your Facebook or Twitter feed, the weather, and much more to you while you go about your morning schedule. We call it <b>Jeeves</b>. Getting dressed in the morning? Tell Jeeves to read you the latest headlines. Brushing your teeth? Have Jeeves read you traffic updates. Best of all, this app is simple, user-friendly, and <i>free</i>.</font></p>
		</div>

		<div id="settings" class="view" ng-hide="jeeves.view != 'settings' " ng-cloak>
			<div>
			<h2 class="text-center">Settings</h2>
			<div>
				<h3>Weather</h3>
				<h4><i>Change Location</i></h4>
				<div class="input-group" style="width: 210px">
		        		<input type="text" class="form-control" placeholder="City, State" id="weather_city_setting" onkeydown="if (event.keyCode == 13) document.getElementById('changeCitySetting').click()">
		        		<span class="input-group-btn">
			        		<button class="btn btn-default" type="submit" ng-click="changeWeather(true)" id="changeCitySetting">Change</button>
		        		</span>
		        	</div>
				<p><font size="1">Powered by OpenWeatherMap.org</font></p>
			</div>
			<hr>
			</div>
		</div>

		<div id="contact" class="view" ng-hide="jeeves.view != 'contact'" ng-cloak>
			<div>
				<h2 class="text-center">Contact Us</h2>
				<p><font size="4"> Co-Founders: </font></p>
				<p><img src="https://fbcdn-sphotos-h-a.akamaihd.net/hphotos-ak-xpf1/v/t1.0-9/10314024_4131147334668_1448501559062959054_n.jpg?oh=a3e89dcd1c71d0daac430ec2b2cf9a54&oe=5453FA50&__gda__=1415069884_c2b2d9c31111b5341d5bf53abd5aaf7d" alt="Ari Kalfus" width="60" height="80"><b><font size = "4">  Ari Kalfus</font></b>: akalfus@brandeis.edu</p>
				<p><img src="https://scontent-a.xx.fbcdn.net/hphotos-xaf1/t1.0-9/1604413_10202736434833868_462765446_n.jpg" alt="Burak Sezer" width="60" height="80"><b><font size = "4">  Burak Sezer</font></b>: bsezer@brandeis.edu</p>
				<p><img src="https://scontent-b.xx.fbcdn.net/hphotos-xpf1/t1.0-9/1607065_10151908263002308_212651559_n.jpg" alt="Sam Raphael" width="60" height="60"><b><font size = "4">  Sam Raphael</font></b>: sraph@brandeis.edu</p>	
				<p><img src="https://fbcdn-sphotos-b-a.akamaihd.net/hphotos-ak-xfp1/t1.0-9/10489684_670812976326270_6814612110053956320_n.jpg" alt="Wesley Wei Qian" width="60" height="60"><b><font size = "4">  Wesely Wei Qian</font></b>: weschin@brandeis.edu</p>					
			</div>
		 </div>

		<div id="favorites" class = "view" ng-hide="jeeves.view != 'favorites'" ng-cloak>
			<div>
				<h2>Favorites</h2>
				Favorites will go here<br>
			</div>
		</div>

		<div id="help" class = "view" ng-hide="jeeves.view != 'help'" ng-cloak>
			<div>
				<h2>Help</h2>
				Help will go here<br>
				<button ng-click="changeView('back')" class="btn btn-default btn-block">Go Back</button>
			</div>
		</div>

		<div id="bottom-button" class="view" >
			<br>
			<br>
			<button ng-click="reco()" class="btn btn-primary" style="float: left; width: 150px;">Speech </button>
			<button ng-click="changeView('back')" class="btn btn-primary" style="float: right; width: 150px;">Help </button>
			<br>
			<br>	
		</div>
	</div>
	<script type="text/javascript">
	document.addEventListener("deviceready", startTTS, false);
	document.addEventListener("backbutton", goBack, false);
	document.addEventListener("menubutton", openMenu, false);
	document.addEventListener("shutdown", endTTS, false);

	function startTTS() {
		navigator.tts.startup(success, fail);

		function success () {
			navigator.tts.speak("Hello! I am ready to begin listening.");
		}

		function fail () {
			navigator.notification.alert("Something went wrong with the TTS engine. Please restart the application.", 'Jeeves', 'Confirm');
		}
	}

	function goBack() {
		try {
			var $element = $('#body-controller-element');
			var scope = angular.element($element).scope();
			scope.changeView('back');
			scope.$apply();
		} catch (err) {
			alert("Didn't work.");
		}
		
	}

	function openMenu() {
		try {
			var $element = $('#body-controller-element');
			var scope = angular.element($element).scope();
			scope.changeView('menu');
			scope.$apply();
		} catch (err) {
			alert("Didn't work.");
		}
	}

	function endTTS() {
		navigator.tts.shutdown();
	}
	</script>
</body>
</html>
